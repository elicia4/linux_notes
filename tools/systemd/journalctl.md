# `journalctl`

[***Table of Contents***](/README.md)

It's a utility used to view logs of a `systemd` unit.

If called without parameters, it will show the contents of the journal
accessible to the calling user, starting with the oldest entry collected:

```bash
journalctl
```

This will print logs produced by every unit on your system.

To view the logs of a particular service:

```bash
journalctl -u sshd
```

To list all units:

```bash
systemctl
```

To "follow" a particular unit (similar to `tail -f`):

```bash
journalctl -fu sshd
```

To only see 5 latest entries:

```bash
journalctl -n 5 -u sshd
```

To reverse the order (newest first):

```bash
journalctl -r -u sshd
```

To narrow down log output from a particular point in time:

```bash
journalctl --since "2025-03-25 12:00:00"
```

You can combine it with a unit as well:

```bash
journalctl -u sshd --since "yesterday"
journalctl -u sshd --since "1 hour ago"
```

### View Log Output Generated by a User

To find out the UID of a user:

```bash
id -u <username>
```

To view logs generated by a particular user:

```bash
journalctl _UID=1000
```

### Reduce Journal Entries' Size

Do not do this on a company server.

To reduce the size of journal entries to a specific size (oldest logs will be
deleted):

```bash
sudo journalctl --vacuum-size=500M
```

`--vacuum-size=` removes the oldest archived journal files until the disk space
they use falls below the specified size, in this case `500M`.

### Priorities

`-p` - filter by message priorities (or priority ranges):

```bash
journalctl -p err -u sshd # err <=> 3
journalctl -p emerg..err -u sshd # emerg..err <=> 0-3
```

The log levels are the `syslog` log levels (`man 3 syslog`): 
- "emerg" (0)
- "alert" (1)
- "crit" (2)
- "err" (3)
- "warning" (4)
- "notice" (5)
- "info" (6)
- "debug" (7) 

- if a single log level is specified, all messages with this log level or a
lower (hence more important) log level are shown
- if a range is specified, all messages within the range are shown, including
both the start and the end value of the range
